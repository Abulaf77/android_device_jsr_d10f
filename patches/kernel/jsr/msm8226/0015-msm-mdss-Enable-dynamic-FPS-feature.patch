From cd2d92912d4748e3ea24f600cabd89d509e695c3 Mon Sep 17 00:00:00 2001
From: S-trace <S-trace@list.ru>
Date: Mon, 4 Jan 2016 23:05:36 +0300
Subject: [PATCH 15/17] msm: mdss: Enable dynamic FPS feature

Thanks armani-dev for https://github.com/armani-dev/android_kernel_xiaomi_armani/commit/a88f45fe4506fd68798eb43585d1d1f3b570386f

Change-Id: I1622fe59214bb044568482c5219e28f005c97e7b
---
 arch/arm/boot/dts/dsi-panel-nt35521-720p-video.dtsi | 4 +++-
 arch/arm/boot/dts/dsi-panel-nt35590-720p-video.dtsi | 4 +++-
 2 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/arch/arm/boot/dts/dsi-panel-nt35521-720p-video.dtsi b/arch/arm/boot/dts/dsi-panel-nt35521-720p-video.dtsi
index 8f638ea..4ea21e6 100644
--- a/arch/arm/boot/dts/dsi-panel-nt35521-720p-video.dtsi
+++ b/arch/arm/boot/dts/dsi-panel-nt35521-720p-video.dtsi
@@ -383,6 +383,8 @@
 		qcom,mdss-dsi-mdp-trigger = "none";
 		qcom,mdss-dsi-bl-pmic-control-type = "bl_ctrl_dcs";
 		qcom,mdss-dsi-reset-sequence = <1 20>, <0 1>, <1 20>;
-
+		qcom,mdss-dsi-pan-enable-dynamic-fps;
+		qcom,mdss-dsi-pan-fps-update = "dfps_immediate_porch_mode";
+		qcom,mdss-dsi-min-refresh-rate = <45>;
 	};
 };
diff --git a/arch/arm/boot/dts/dsi-panel-nt35590-720p-video.dtsi b/arch/arm/boot/dts/dsi-panel-nt35590-720p-video.dtsi
index 48cce48..bd0da83 100644
--- a/arch/arm/boot/dts/dsi-panel-nt35590-720p-video.dtsi
+++ b/arch/arm/boot/dts/dsi-panel-nt35590-720p-video.dtsi
@@ -1039,6 +1039,8 @@
 		qcom,mdss-dsi-reset-sequence = <1 20>, <0 1>, <1 20>;
 		/* qcom,mdss-pan-physical-width-dimension = <59>; */
 		/* qcom,mdss-pan-physical-height-dimension = <104>; */
-
+		qcom,mdss-dsi-pan-enable-dynamic-fps;
+		qcom,mdss-dsi-pan-fps-update = "dfps_immediate_porch_mode";
+		qcom,mdss-dsi-min-refresh-rate = <45>;
 	};
 };
-- 
2.5.0

