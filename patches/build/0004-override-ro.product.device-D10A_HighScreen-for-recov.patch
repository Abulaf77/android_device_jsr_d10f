From 024edc21b22c17ec1ea0a8ef86f981d25e85a1a8 Mon Sep 17 00:00:00 2001
From: S-trace <S-trace@list.ru>
Date: Sun, 17 Jan 2016 08:26:42 +0300
Subject: [PATCH 4/4] override ro.product.device=D10A_HighScreen for recovery
 build

This is necessary to fix stock ROMs device check

Change-Id: I46bdf89f24868b05bef75044fa85a5c1ddf7e5fd
---
 core/Makefile | 1 +
 1 file changed, 1 insertion(+)

diff --git a/core/Makefile b/core/Makefile
index 2ac0fb9..ff3696e 100644
--- a/core/Makefile
+++ b/core/Makefile
@@ -993,6 +993,7 @@ define build-recoveryramdisk
   $(hide) cat $(INSTALLED_DEFAULT_PROP_TARGET) $(recovery_build_prop) \
           > $(TARGET_RECOVERY_ROOT_OUT)/default.prop
   $(hide) sed -i 's/ro.build.date.utc=.*/ro.build.date.utc=0/g' $(TARGET_RECOVERY_ROOT_OUT)/default.prop
+  $(hide) sed -i 's/ro.product.device=.*/ro.product.device=D10A_HighScreen/g' $(TARGET_RECOVERY_ROOT_OUT)/default.prop
 endef
 
 RECOVERYIMAGE_ID_FILE := $(PRODUCT_OUT)/recovery.id
-- 
2.5.0

